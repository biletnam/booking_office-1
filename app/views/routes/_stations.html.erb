<p>
  <strong>Route stations:</strong>
</p>
<!--<%= render 'collection', resource: @route.railway_stations %>-->
<p>
  <table>
    <thead>
      <tr>
        <td>Station</td>
        <td>Position</td>
        <td>Departure time</td>
        <td>Arrival time</td>
      </tr>
    </thead>
    <tbody>
      <% @route.railway_stations.ordered.each do |station| %>
      <tr>
        <td><%= station.title %></td>
        <td>
          <%= form_tag update_position_railway_station_path(station), method: :patch do %>
            <%= number_field_tag :position, station.position_in(@route) %>
            <%= hidden_field_tag :route_id, @route.id %>
            <%= submit_tag "Change" %>
          <% end %>
        </td>
        <td>
          <%= form_tag update_departure_railway_station_path(station), method: :patch do %>
            <%= datetime_field_tag :departure, station.set_time(@route, :departure) %>
            <%= hidden_field_tag :route_id, @route.id %>
            <%= submit_tag "Change" %>
          <% end %>
        </td>
        <td>
          <%= form_tag update_arrival_railway_station_path(station), method: :patch do %>
            <%= datetime_field_tag :arrival, station.set_time(@route, :arrival) %>
            <%= hidden_field_tag :route_id, @route.id %>
            <%= submit_tag "Change" %>
          <% end %>
        </td>
      </tr>
      <% end %>
    </tbody>
  </table>
</p>